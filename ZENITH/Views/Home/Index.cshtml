
@model ZENITH.ViewModels.HomeIndexViewModel
@using ZENITH.ViewModels 
@using System.Globalization 
@using System.Collections.Generic
@using ZENITH.Models;
@{
    ViewData["Title"] = "| Cửa Hàng Thể Thao Dành Cho Sinh Viên Việt Nam";
    var cultureInfo = new CultureInfo("vi-VN");
    var sportDisplayLimit = 6;
    var parentSports = ViewBag.ParentSports as List<Sport>;
}
<!-- Slideshow -->
<div class="home__container">
    <div class="slideshow js-home-slideshow" aria-label="Trang trình chiếu">
        <div class="slideshow__inner">
            <div class="slideshow__item">
                <a href="#!" class="slideshow__link">
                    <img src="~/image/advert-action/home-slide-show-1.webp" alt="Slideshow 1" class="slideshow__img" /> 
                </a>
            </div>
            <div class="slideshow__item">
                <a href="#!" class="slideshow__link">
                    <img src="~/image/advert-action/home-slide-show-2.webp" alt="Slideshow 2" class="slideshow__img" />
                </a>
            </div>
            <div class="slideshow__item">
                <a href="#!" class="slideshow__link">
                    <img src="~/image/advert-action/home-slide-show-3.webp" alt="Slideshow 3" class="slideshow__img" />
                </a>
            </div>
            <div class="slideshow__item">
                <a href="https://github.com/dangtuann-dev" class="slideshow__link">
                    <img src="~/image/advert-action/home-slide-show-4.webp" alt="Slideshow 4" class="slideshow__img" />
                </a>
            </div>
        </div>

        <div class="slideshow__page" aria-live="polite">
            <div class="slideshow__dots js-slide-dots" role="radiogroup" aria-label="Chọn slide">
                <input type="radio" id="home-slide-dot-1" name="home-slideshow" class="slideshow__dot-input" checked />
                <label for="home-slide-dot-1" class="slideshow__dot is-active" data-index="0" aria-label="Ảnh 1"></label>

                <input type="radio" id="home-slide-dot-2" name="home-slideshow" class="slideshow__dot-input" />
                <label for="home-slide-dot-2" class="slideshow__dot" data-index="1" aria-label="Ảnh 2"></label>

                <input type="radio" id="home-slide-dot-3" name="home-slideshow" class="slideshow__dot-input" />
                <label for="home-slide-dot-3" class="slideshow__dot" data-index="2" aria-label="Ảnh 3"></label>

                <input type="radio" id="home-slide-dot-4" name="home-slideshow" class="slideshow__dot-input" />
                <label for="home-slide-dot-4" class="slideshow__dot" data-index="3" aria-label="Ảnh 4"></label>
            </div>
        </div>
    </div>
</div>
<!-- Categories -->

<section class="home__container home-categories__container">
    <div class="home__row">
        <h2 class="home__heading">Danh Mục Sản Phẩm</h2>
    </div>
    <div class="home__cate">
       <div class="category-list">
          @foreach (var category in Model.Categories)
            {
                <a href="#!">
                    <div class="category-item">
                        <div class="category-image">
                            <img src="@category.ImageUrl" asp-append-version="true" />
                        </div>
                        <div class="cate-item__info">
                            <p class="cate-item__desc clip-text">
                                @category.CategoryName
                            </p>
                        </div>
                    </div>
                </a>
            }
           
       </div>
    </div>
</section>
<!--Hero home-->
<!--SẢN PHẨM BÁN CHẠY-->
<section class="home__container">
    <div class="home__row">
        <h2 class="home__heading">Sản Phẩm Bán Chạy Nhất (@Model.TopSellingProducts.Count)</h2>
    </div>
    <div class="row row-cols-5 row-cols-lg-2 row-cols-sm-1 g-3">
        @if (Model.TopSellingProducts.Any())
        {
            @await Html.PartialAsync("_ProductCardList", Model.TopSellingProducts)
        }
        else
        {
            <div class="col-12"><p>Không có sản phẩm bán chạy để hiển thị.</p></div>
        }
    </div>
</section>
<!--Sport cha-->
@*
<section class="home__container">
    <h2 class="home__heading">Danh Mục Các Môn Thể Thao Phổ Biến</h2>

    SỬ DỤNG SPORTS TỪ VIEWBAG 
    <div class="home__cate row row-cols-3 row-cols-md-1">
        @if (parentSports != null && parentSports.Any())
        {
            @foreach (var sport in parentSports.Take(sportDisplayLimit))
            {
                <div class="category-list">
                    <div class="category-item">
                        <div class="category-image">
                             💡 Hiển thị IconUrl của Sport 
                            <img src="@Url.Content(sport.IconUrl)"
                                 alt="@sport.SportName"
                                 class="category-image__img"
                                 asp-append-version="true" />
                        </div>
                        <div class="cate-item__info">
                            <h3 class="cate-item__title">
                                 Link đến trang Sport/Product List 
                                <a asp-controller="Product" asp-action="ListBySport" asp-route-id="@sport.SportId">
                                    💡 HIỂN THỊ TÊN MÔN THỂ THAO 
                                    @sport.SportName
                                </a>
                            </h3>
                             Mô tả Sport 
                            <p class="cate-item__desc">@sport.Description</p>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <p>Không tìm thấy môn thể thao phổ biến nào.</p>
        }
    </div>
</section> *@
<!--GIÀY CHẠY BỘ THỂ THAO...-->
<section class="home__container">
    <div class="home__row">
        <h2 class="home__heading">Giày chạy bộ, thể thao, leo núi</h2>
    </div>
    <div class="row row-cols-5 row-cols-lg-2 row-cols-sm-1 g-3">
        @if (Model.FootwearCollection.Any())
        {
            @await Html.PartialAsync("_ProductCardList", Model.FootwearCollection)
        }
        else
        {
            <div class="col-12"><p>Không có sản phẩm Giày chạy bộ, thể thao, leo núi hiển thị.</p></div>
        }
    </div>
</section>

<!--LEO NÚI CẮM TRẠI-->
<section class="home__container">
    <div class="home__row">
        <h2 class="home__heading">Khám phá leo núi - cắm trại - du lịch</h2>
    </div>
    <div class="row row-cols-5 row-cols-lg-2 row-cols-sm-1 g-3">
        @if (Model.ClimbingProducts.Any())
        {
            @await Html.PartialAsync("_ProductCardList", Model.ClimbingProducts)
        }
        else
        {
            <div class="col-12"><p>Không có sản phẩm liên quan tới Khám phá leo núi - cắm trại - du lịch để hiển thị.</p></div>
        }
    </div>
</section>
<!--VỢT-->
<section class="home__container">
    <div class="home__row">
        <h2 class="home__heading">Vợt pickleball, tennis, cầu lông</h2>
    </div>
    <div class="row row-cols-5 row-cols-lg-2 row-cols-sm-1 g-3">
        @if (Model.RacketSportsProducts.Any())
        {
            @await Html.PartialAsync("_ProductCardList", Model.RacketSportsProducts)
        }
        else
        {
            <div class="col-12"><p>Không có sản phẩm Vợt pickleball, tennis, cầu lông để hiển thị.</p></div>
        }
    </div>
</section>
<!--QUẦN ÁO BÓNG ĐÁ-->
<section class="home__container">
    <div class="home__row">
        <h2 class="home__heading">Quần áo bóng đá, bóng rổ, bóng chuyền</h2>
    </div>
    <div class="row row-cols-5 row-cols-lg-2 row-cols-sm-1 g-3">
        @if (Model.TeamSportsProducts.Any())
        {
            @await Html.PartialAsync("_ProductCardList", Model.TeamSportsProducts)
        }
        else
        {
            <div class="col-12"><p>Không có sản phẩm Quần áo bóng đá, bóng rổ, bóng chuyền để hiển thị.</p></div>
        }
    </div>
</section>
